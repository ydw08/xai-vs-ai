<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI vs XAI ë¹„êµ ì‹œë®¬ë ˆì´í„°</title>
    <style>
        :root {
            --bg-color: #f4f7f6;
            --primary-color: #3498db;
            --ai-bg: #2c3e50; /* ì–´ë‘ìš´ ìƒ‰ (Black Box ìƒì§•) */
            --xai-bg: #ffffff; /* ë°ì€ ìƒ‰ (White Box ìƒì§•) */
        }

        body {
            font-family: 'Apple SD Gothic Neo', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 { margin-bottom: 10px; color: #333; }
        p.subtitle { color: #666; margin-bottom: 30px; text-align: center; }

        /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
        .input-section {
            background: white;
            padding: 20px 40px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex;
            gap: 20px;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .input-group { display: flex; flex-direction: column; }
        label { font-size: 14px; margin-bottom: 5px; font-weight: bold; color: #555; }
        input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            width: 150px;
            font-size: 16px;
        }

        button {
            padding: 12px 30px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            height: fit-content;
            margin-top: 15px;
            transition: 0.3s;
        }
        button:hover { background-color: #2980b9; transform: translateY(-2px); }

        /* ê²°ê³¼ ë¹„êµ ì˜ì—­ */
        .comparison-container {
            display: flex;
            gap: 40px;
            width: 100%;
            max-width: 1000px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .model-card {
            flex: 1;
            min-width: 300px;
            border-radius: 15px;
            padding: 25px;
            position: relative;
            transition: 0.3s;
        }

        /* ì¼ë°˜ AI (Black Box) ìŠ¤íƒ€ì¼ */
        .ai-model {
            background-color: var(--ai-bg);
            color: white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        .ai-model h2 { border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 10px; }
        
        /* XAI (White Box) ìŠ¤íƒ€ì¼ */
        .xai-model {
            background-color: var(--xai-bg);
            color: #333;
            border: 2px solid var(--primary-color);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.2);
        }
        .xai-model h2 { border-bottom: 1px solid #eee; padding-bottom: 10px; color: var(--primary-color); }

        .result-box {
            margin-top: 20px;
            min-height: 150px;
        }

        .status { font-size: 24px; font-weight: bold; margin-bottom: 10px; }
        .status.approved { color: #2ecc71; }
        .status.rejected { color: #e74c3c; }
        
        /* ì„¤ëª… ê°€ëŠ¥ì„± ì‹œê°í™” (ë§‰ëŒ€ ê·¸ë˜í”„) */
        .explanation-chart { margin-top: 15px; display: none; }
        .bar-container { margin-bottom: 10px; }
        .bar-label { font-size: 12px; display: flex; justify-content: space-between; }
        .bar-bg { background: #eee; height: 10px; border-radius: 5px; overflow: hidden; margin-top: 5px; }
        .bar-fill { height: 100%; background: #95a5a6; width: 0%; transition: width 1s ease-in-out; }
        
        .positive-impact { background: #2ecc71; } /* ê¸ì • ìš”ì¸ (ì´ˆë¡) */
        .negative-impact { background: #e74c3c; } /* ë¶€ì • ìš”ì¸ (ë¹¨ê°•) */

        .explanation-text {
            font-size: 14px;
            line-height: 1.5;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--primary-color);
        }

    </style>
</head>
<body>

    <h1>AI vs XAI (ì„¤ëª… ê°€ëŠ¥í•œ AI)</h1>
    <p class="subtitle">ëŒ€ì¶œ ì‹¬ì‚¬ ìƒí™©ì—ì„œ ë‘ ëª¨ë¸ì´ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ í™•ì¸í•´ë³´ì„¸ìš”.</p>

    <div class="input-section">
        <div class="input-group">
            <label for="income">ì—° ì†Œë“ ($)</label>
            <input type="number" id="income" value="45000" placeholder="ì˜ˆ: 50000">
        </div>
        <div class="input-group">
            <label for="credit">ì‹ ìš© ì ìˆ˜ (0~1000)</label>
            <input type="number" id="credit" value="650" placeholder="ì˜ˆ: 700">
        </div>
        <button onclick="runSimulation()">ì‹¬ì‚¬ ìš”ì²­</button>
    </div>

    <div class="comparison-container">
        
        <div class="model-card ai-model">
            <h2>ğŸ¤– ì¼ë°˜ AI (Black Box)</h2>
            <p style="opacity: 0.7; font-size: 0.9em;">ë‚´ë¶€ ì²˜ë¦¬ ê³¼ì •ì„ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
            <div class="result-box" id="aiResult">
                <p>ë°ì´í„° ëŒ€ê¸° ì¤‘...</p>
            </div>
        </div>

        <div class="model-card xai-model">
            <h2>ğŸ” XAI (White Box)</h2>
            <p style="opacity: 0.7; font-size: 0.9em;">ê²°ê³¼ì˜ <strong>ì›ì¸(ê¸°ì—¬ë„)</strong>ì„ ì‹œê°í™”í•©ë‹ˆë‹¤.</p>
            <div class="result-box" id="xaiResult">
                <p>ë°ì´í„° ëŒ€ê¸° ì¤‘...</p>
            </div>
        </div>

    </div>

    <script>
        function runSimulation() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const income = parseInt(document.getElementById('income').value);
            const credit = parseInt(document.getElementById('credit').value);

            if (isNaN(income) || isNaN(credit)) {
                alert("ì •í™•í•œ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            // --- ë¡œì§ ì„¤ì • (ê°„ë‹¨í•œ ê·œì¹™) ---
            // ê¸°ì¤€: ì†Œë“ 50000 ì´ìƒ AND ì‹ ìš©ì ìˆ˜ 700 ì´ìƒì´ë©´ ìŠ¹ì¸
            // ì‹¤ì œ AIëŠ” ë³µì¡í•œ ìˆ˜ì‹ì´ì§€ë§Œ ì—¬ê¸°ì„  ê°„ë‹¨íˆ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤.
            
            let isApproved = false;
            let score = 0; // ë‚´ë¶€ ì ìˆ˜ (í™•ë¥ )

            // ì†Œë“ ê¸°ì—¬ë„ ê³„ì‚° (0.5 ë§Œì )
            let incomeScore = Math.min(income / 60000, 1) * 0.5;
            // ì‹ ìš© ê¸°ì—¬ë„ ê³„ì‚° (0.5 ë§Œì )
            let creditScore = Math.min(credit / 800, 1) * 0.5;
            
            let totalScore = incomeScore + creditScore; // 0.0 ~ 1.0

            if (totalScore >= 0.7) {
                isApproved = true;
            }

            // --- 1. ì¼ë°˜ AI ê²°ê³¼ ì¶œë ¥ (ë‹¨ìˆœ ê²°ê³¼ë§Œ) ---
            const aiBox = document.getElementById('aiResult');
            aiBox.innerHTML = `
                <div style="margin-top:20px;">
                    <p>ë¶„ì„ ì¤‘...</p>
                </div>
            `;

            setTimeout(() => {
                const statusText = isApproved ? "ëŒ€ì¶œ ìŠ¹ì¸ (Approved)" : "ëŒ€ì¶œ ê±°ì ˆ (Rejected)";
                const statusClass = isApproved ? "approved" : "rejected";
                
                // AIëŠ” ë‹¨ìˆœíˆ ê²°ê³¼ì™€ í™•ë¥ (Confidence)ë§Œ ë˜ì ¸ì¤Œ
                aiBox.innerHTML = `
                    <div class="status ${statusClass}" style="margin-top:20px;">${statusText}</div>
                    <p>ì˜ˆì¸¡ ì‹ ë¢°ë„: ${Math.round(totalScore * 100)}%</p>
                    <hr style="opacity:0.3; margin: 20px 0;">
                    <p style="color: #ccc; font-style: italic;">
                        "ì™œ ì´ëŸ° ê²°ê³¼ê°€ ë‚˜ì™”ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ.<br>ë‚´ë¶€ ì•Œê³ ë¦¬ì¦˜ì€ ë¹„ê³µê°œ ìƒíƒœ."
                    </p>
                `;
            }, 500);


            // --- 2. XAI ê²°ê³¼ ì¶œë ¥ (ê²°ê³¼ + ê¸°ì—¬ë„ ë¶„ì„ ì‹œê°í™”) ---
            const xaiBox = document.getElementById('xaiResult');
            xaiBox.innerHTML = `<p>ë°ì´í„° í•´ì„ ì¤‘...</p>`;

            setTimeout(() => {
                const statusText = isApproved ? "ëŒ€ì¶œ ìŠ¹ì¸" : "ëŒ€ì¶œ ê±°ì ˆ";
                const statusClass = isApproved ? "approved" : "rejected";
                
                // SHAP Value ê°™ì€ ê¸°ì—¬ë„ ì‹œê°í™” ë¡œì§ (ì—¬ê¸°ì„  ë‹¨ìˆœ ë¹„ìœ¨)
                // ì†Œë“ì´ ê¸ì •ì ì¸ì§€ ë¶€ì •ì ì¸ì§€ íŒë‹¨
                const incomeInfluence = (income >= 50000) ? "positive-impact" : "negative-impact";
                const creditInfluence = (credit >= 700) ? "positive-impact" : "negative-impact";

                const incomeWidth = Math.min((income / 60000) * 100, 100);
                const creditWidth = Math.min((credit / 800) * 100, 100);

                // ì„¤ëª… í…ìŠ¤íŠ¸ ìƒì„±
                let explanation = "";
                if (isApproved) {
                    explanation = `<strong>ì„±ê³µ ìš”ì¸:</strong> ë†’ì€ ì—° ì†Œë“(${income}$)ê³¼ ì•ˆì •ì ì¸ ì‹ ìš©ì ìˆ˜(${credit}ì )ê°€ ê¸ì •ì ìœ¼ë¡œ ì‘ìš©í–ˆìŠµë‹ˆë‹¤.`;
                } else {
                    explanation = `<strong>ê±°ì ˆ ì‚¬ìœ :</strong> `;
                    if (income < 50000) explanation += `ì—° ì†Œë“ì´ ê¸°ì¤€ë³´ë‹¤ ë‚®ìŒ(-${50000-income}$), `;
                    if (credit < 700) explanation += `ì‹ ìš© ì ìˆ˜ê°€ ìœ„í—˜ ìˆ˜ì¤€ì„. `;
                }

                xaiBox.innerHTML = `
                    <div class="status ${statusClass}" style="margin-top:20px;">${statusText}</div>
                    
                    <div class="explanation-chart" style="display:block;">
                        <p style="font-weight:bold; margin-bottom:10px;">ğŸ“Š íŒë‹¨ ê·¼ê±° (Feature Importance)</p>
                        
                        <div class="bar-container">
                            <div class="bar-label"><span>ì—° ì†Œë“ ì˜í–¥ë ¥</span> <span>${income}$</span></div>
                            <div class="bar-bg">
                                <div class="bar-fill ${incomeInfluence}" style="width: ${incomeWidth}%"></div>
                            </div>
                        </div>

                        <div class="bar-container">
                            <div class="bar-label"><span>ì‹ ìš© ì ìˆ˜ ì˜í–¥ë ¥</span> <span>${credit}ì </span></div>
                            <div class="bar-bg">
                                <div class="bar-fill ${creditInfluence}" style="width: ${creditWidth}%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="explanation-text">
                        ${explanation}
                    </div>
                `;
            }, 500);
        }
    </script>
</body>
</html>